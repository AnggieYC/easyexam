{"remainingRequest":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/src/components/Solution.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/src/components/Solution.vue","mtime":1574864847662},{"path":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anggie/easy-exam-grupo-ii/Implementation/frontend/easyexam/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIgppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IgppbXBvcnQgeyB2YWxpZGF0aW9uTWl4aW4gfSBmcm9tICd2dWVsaWRhdGUnCmltcG9ydCB7IG1pbkxlbmd0aCwgcmVxdWlyZWQgfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnCmltcG9ydCB7IHBhcnNlLCBIdG1sR2VuZXJhdG9yIH0gZnJvbSAnbGF0ZXguanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBtaXhpbnM6IFt2YWxpZGF0aW9uTWl4aW5dLAogICAgbmFtZTogIlNvbHV0aW9uIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGlzbWlzc1NlY3M6IDUsCiAgICAgICAgICAgIGRpc21pc3NDb3VudERvd25EZXNjcmlwOiAwLAogICAgICAgICAgICBkaXNtaXNzQ291bnREb3duUHJvcFR5cGU6IDAsCiAgICAgICAgICAgIHRhZ3M6IFtdLAogICAgICAgICAgICBkaWN0eSA6IHsnU2hvcnQgQW5zd2VyJyA6ICdTQScsICdMb25nIEFuc3dlcicgOiAnTEEnLCAnTXVsdGlwbGUgQ2hvaWNlJyA6ICdNQycgLCAnVHJ1ZSBvciBGYWxzZScgOiAnVEYnfSwKICAgICAgICAgICAgc29sdXRpb25faHRtbDogJycKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgICBoaWRlSW5mbyhidXR0b24pewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCdidjo6aGlkZTo6bW9kYWwnLCAnbW9kYWxQb3BvdmVyJywgYnV0dG9uKQogICAgICAgIH0sCiAgICAgICAgb25TdWJtaXQoZXZ0KSB7CiAgICAgICAgICAgIGxldCB2YWxEZXNjcmlwID0gdGhpcy5zb2x1dGlvbi5kZXNjcmlwdGlvbi5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICAgICAgaWYgKHZhbERlc2NyaXApewogICAgICAgICAgICAgICAgY29uc3QgcF9wb3N0ID0gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo5ODk4L3Byb2JsZW0vdjEvc3VibWl0UHJvYmxlbSIsIHsKICAgICAgICAgICAgICAgICAgICBpZFRlYWNoZXI6IHRoaXMudXNlci5pZCwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5wcm9ibGVtLnRpdGxlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMucHJvYmxlbS50eXBlLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGJvZHk6IHRoaXMucHJvYmxlbS5ib2R5LAogICAgICAgICAgICAgICAgICAgIHRvcGljczogdGhpcy5wcm9ibGVtLnRvcGljc19pZCwKICAgICAgICAgICAgICAgICAgICBydXRhSW1hZ2U6IHRoaXMucHJvYmxlbS5pbWFnZSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvblNvbHV0aW9uOiB0aGlzLnNvbHV0aW9uLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgIHBhdGhJbWFnZVNvbHV0aW9uOiB0aGlzLnNvbHV0aW9uLmltYWdlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBfcG9zdC50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcF9wb3N0LmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIHRoaXMuaGlkZUluZm8oZXZ0KTsKICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKICAgICAgICAgICAgICAgbGV0IG5ld19jcmVkaXQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmNyZWRpdHMgKyAzCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmNyZWRpdHMgKz0gMzsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8nICsgdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50VVJMICsgJy90ZWFjaGVyL3YxL3RlYWNoZXIvdXBkYXRlQm9udXMnLHsKICAgICAgICAgICAgICAgICAgICBpZCA6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaWQsCiAgICAgICAgICAgICAgICAgICAgYm9udXMgOiBuZXdfY3JlZGl0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuUmVzZXRBbGxGaWVsZHMoKTsKICAgICAgICAgICAgICAgIHRoaXMuZ29CYWNrKCk7CiAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0RGVzY3JpcHRpb24oKQogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgb25SZXNldChldnQpIHsKICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHRoaXMuc29sdXRpb24uZGVzY3JpcHRpb24gPSAnJzsKICAgICAgICAgICAgdGhpcy5wcm9ibGVtLnR5cGUgPSAnJzsKICAgICAgICB9LAogICAgICAgIGdvQmFjayAoKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlVmlld0JhY2snKQogICAgICAgIH0sCiAgICAgICAgY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CiAgICAgICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd24KICAgICAgICB9LAogICAgICAgIHNob3dBbGVydERlc2NyaXB0aW9uKCkgewogICAgICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd25EZXNjcmlwID0gdGhpcy5kaXNtaXNzU2VjcwogICAgICAgIH0sCiAgICAgICAgc2hvd0FsZXJ0UHJvYlR5cGUoKSB7CiAgICAgICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93blByb3BUeXBlID0gdGhpcy5kaXNtaXNzU2VjcwogICAgICAgIH0sCiAgICAgICAgUmVzZXRBbGxGaWVsZHMoKXsKICAgICAgICAgICAgdGhpcy5zb2x1dGlvbi5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgICAgICB0aGlzLnByb2JsZW0udHlwZSA9ICcnOwogICAgICAgICAgICB0aGlzLnByb2JsZW0udGl0bGUgPSAnJzsKICAgICAgICAgICAgdGhpcy5wcm9ibGVtLmJvZHkgPSAnJzsKICAgICAgICAgICAgdGhpcy5wcm9ibGVtLmltYWdlID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5wcm9ibGVtLnRvcGljc19pZCA9IFtdCiAgICAgICAgfSwKICAgICAgICB2aXN1YWxpemUoKXsKICAgICAgICAgICAgbGV0IGdlbmVyYXRvciA9IG5ldyBIdG1sR2VuZXJhdG9yKHsgaHlwaGVuYXRlOiBmYWxzZSB9KQogICAgICAgICAgICBsZXQgZG9jID0gcGFyc2UodGhpcy5zb2x1dGlvbi5kZXNjcmlwdGlvbiwgeyBnZW5lcmF0b3I6IGdlbmVyYXRvciB9KQogICAgICAgICAgICB0aGlzLnNvbHV0aW9uX2h0bWwgPSBkb2MuaHRtbERvY3VtZW50KCkuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGNvbnN0IHRhZyA9IGF4aW9zLmdldCgiaHR0cDovLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRVUkwgKyAiL3RvcGljcy92MS90b3BpY3MvZ2V0VG9waWNzIik7CiAgICAgICAgdGFnLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMudGFncyA9IHJlc3BvbnNlLmRhdGEpKTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlICh7CiAgICAgICAgICAgIHByb2JsZW06IHN0YXRlID0+IHN0YXRlLnN1Ym1pdC5mb3JtLnByb2JsZW0sCiAgICAgICAgICAgIHNvbHV0aW9uOiBzdGF0ZSA9PiBzdGF0ZS5zdWJtaXQuZm9ybS5zb2x1dGlvbiwKICAgICAgICAgICAgdHlwZXM6IHN0YXRlID0+IHN0YXRlLnN1Ym1pdC50eXBlcywKICAgICAgICAgICAgdXNlcjogc3RhdGUgPT4gc3RhdGUudXNlciwKICAgICAgICB9KSwKICAgICAgICB2YWxpZGF0SW1nKCkgewogICAgICAgICAgICByZXR1cm4gKEJvb2xlYW4odGhpcy5wcm9ibGVtLmltYWdlKT09dHJ1ZT8gdHJ1ZTogbnVsbCkKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIE11bHRpc2VsZWN0CgogICAgfSwKICAgIHZhbGlkYXRpb25zOiB7CiAgICAgICAgc29sdXRpb246IHsKICAgICAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Solution.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Solution.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container md-6 align-center mt-2\">\n        <b-card-group deck>\n        <b-card>\n            <b-container class=\"m-2\">\n                <h1>Submit a Solution!</h1>\n                     <font color=\"red\"> <small>Required *</small> </font> \n                        <b-form @reset=\"onReset\">\n                            <b-form-group id=\"input-group-1\" label=\"What type of problem would you like to submit? *\" label-for=\"input-3\">\n                                <multiselect\n                                        v-model=\"problem.type\"\n                                        placeholder=\"Pick a value\"\n                                        label=\"name\"\n                                        track-by=\"value\"\n                                        :options=\"types\"\n                                        :searchable=\"false\"\n                                        :close-on-select=\"true\"\n                                        deselectLabel = \"\"\n                                        :allowEmpty = \"false\"\n                                >\n                                </multiselect>\n                                <b-alert \n                                        :show=\"dismissCountDownPropType\" \n                                        dismissible \n                                        variant=\"danger\"  \n                                        @dismissed=\"dismissCountDownDescrip=0\"\n                                        @dismiss-count-down=\"countDownChanged\" \n                                        >\n                                        You must need to enter a problem solution.\n                                </b-alert>\n                            </b-form-group>\n\n                            <b-form-group  label=\"Problem\n                            Solution *\">\n                                <b-form-textarea\n                                id=\"textarea\"\n                                v-model=\"$v.solution.description.$model\"\n                                placeholder=\"Please enter your solution body here in latex...\"\n                                :state= \"$v.solution.description.$dirty ? !$v.solution.description.$error : null\"\n                                required\n                                rows=\"6\"\n                                max-rows=\"12\"\n                                ></b-form-textarea>\n                                <b-alert \n                                        :show=\"dismissCountDownDescrip\" \n                                        dismissible \n                                        variant=\"danger\"  \n                                        @dismissed=\"dismissCountDownDescrip=0\"\n                                        @dismiss-count-down=\"countDownChanged\" \n                                        >\n                                        You must need to enter a problem solution.\n                                </b-alert>\n                            </b-form-group>\n                            <b-button variant=\"light\" on-clik class = \"m-2 float-left\" @click = \"goBack\" ><i class=\"fas fa-angle-double-left\" style=\"color:  #2f3135;\"></i></b-button>\n                            <b-button variant = \"light\" class = \"m-2 float-right\" v-b-modal.modalPopover>Submit</b-button>\n                            <b-button type=\"reset\" variant = \"light\" class=\"m-2 float-left\" ><i class=\"fas fa-trash fa-1x\" style=\"color:  #e31d1d;\"></i></b-button>\n                            <b-button variant=\"light\" class=\"mx-1 float-right \" @click=\"visualize\"><i class=\"fas fa-play-circle\"></i></b-button>\n                        </b-form>\n                            <b-modal \n                                    title=\"Submit status\"\n                                    id=\"modalPopover\"\n                                    ok-only\n                                >\n                                Are you sure you want to submit this problem?\n                                <template v-slot:modal-footer>\n                                    <b-button\n                                        variant=\"primary\"\n                                        size=\"sm\"\n                                        class=\"float-right\"\n                                        type=\"submit\"\n                                        @click=\"onSubmit($event.target)\"\n                                    >\n                                    Yes\n                                    </b-button>\n                                    <b-button\n                                        variant=\"danger\"\n                                        size=\"sm\"\n                                        class=\"float-left\"\n                                        @click=\"hideInfo($event.target)\"\n                                    >\n                                    Cancel\n                                    </b-button>\n                                </template>\n                                </b-modal>\n            </b-container>\n        </b-card>\n        <b-card>\n            <h1>Preview</h1>\n            <b-card-body v-html=\"solution_html\">\n            </b-card-body>      \n        </b-card>\n        </b-card-group>\n\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import axios from \"axios\"\n    import Multiselect from \"vue-multiselect\"\n    import { validationMixin } from 'vuelidate'\n    import { minLength, required } from 'vuelidate/lib/validators'\n    import { parse, HtmlGenerator } from 'latex.js'\n\n    export default {\n        mixins: [validationMixin],\n        name: \"Solution\",\n        data() {\n            return {\n                dismissSecs: 5,\n                dismissCountDownDescrip: 0,\n                dismissCountDownPropType: 0,\n                tags: [],\n                dicty : {'Short Answer' : 'SA', 'Long Answer' : 'LA', 'Multiple Choice' : 'MC' , 'True or False' : 'TF'},\n                solution_html: ''\n            }\n        },\n        methods: {\n             hideInfo(button){\n                this.$root.$emit('bv::hide::modal', 'modalPopover', button)\n            },\n            onSubmit(evt) {\n                let valDescrip = this.solution.description.length > 0 ? true : false;\n                 if (valDescrip){\n                    const p_post = axios.post(\"http://localhost:9898/problem/v1/submitProblem\", {\n                        idTeacher: this.user.id,\n                        title: this.problem.title,\n                        type: this.problem.type.value,\n                        body: this.problem.body,\n                        topics: this.problem.topics_id,\n                        rutaImage: this.problem.image,\n                        descriptionSolution: this.solution.description,\n                        pathImageSolution: this.solution.image\n                    });\n                    p_post.then(resp => {\n                        console.log(resp.data)\n                    });\n                    p_post.catch(error => {\n                        console.log(error)\n                   });\n                   this.hideInfo(evt);\n                   this.$router.push('/dashboard');\n                   let new_credit = this.$store.state.user.credits + 3\n                    this.$store.state.user.credits += 3;\n                    axios.post('http://' + this.$store.state.clientURL + '/teacher/v1/teacher/updateBonus',{\n                        id : this.$store.state.user.id,\n                        bonus : new_credit\n                    });\n                    this.ResetAllFields();\n                    this.goBack();\n                } else{\n                    this.showAlertDescription()\n                }\n\n            },\n            onReset(evt) {\n                evt.preventDefault();\n                this.solution.description = '';\n                this.problem.type = '';\n            },\n            goBack () {\n                this.$store.commit('updateViewBack')\n            },\n            countDownChanged(dismissCountDown) {\n                this.dismissCountDown = dismissCountDown\n            },\n            showAlertDescription() {\n                this.dismissCountDownDescrip = this.dismissSecs\n            },\n            showAlertProbType() {\n                this.dismissCountDownPropType = this.dismissSecs\n            },\n            ResetAllFields(){\n                this.solution.description = '';\n                this.problem.type = '';\n                this.problem.title = '';\n                this.problem.body = '';\n                this.problem.image = null;\n                this.problem.topics_id = []\n            },\n            visualize(){\n                let generator = new HtmlGenerator({ hyphenate: false })\n                let doc = parse(this.solution.description, { generator: generator })\n                this.solution_html = doc.htmlDocument().documentElement.outerHTML\n            }\n        },\n        mounted() {\n            const tag = axios.get(\"http://\" + this.$store.state.clientURL + \"/topics/v1/topics/getTopics\");\n            tag.then(response => (this.tags = response.data));\n        },\n        computed: {\n            ...mapState ({\n                problem: state => state.submit.form.problem,\n                solution: state => state.submit.form.solution,\n                types: state => state.submit.types,\n                user: state => state.user,\n            }),\n            validatImg() {\n                return (Boolean(this.problem.image)==true? true: null)\n            }\n        },\n        components: {\n            Multiselect\n\n        },\n        validations: {\n            solution: {\n                description: {\n                    required,\n                    minLength: minLength(1)\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}